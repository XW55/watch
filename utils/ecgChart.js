export const ecgConfig = (config) => {
  return {
    // 设置图形区域为正方形
    grid: {
      right: '0px',
      top: '0',
      height: '95%',
      left: '0px',
      containLabel: true,
      bottom: '0'
    },
    animation: true,
    animationDuration: 4900,
    animationEasing: 'linear',
    animationEasingUpdate: 'linear',
    animationDurationUpdate: 5000,
    animationDelayUpdate: 0,
    animationThreshold: 5000,
    title: {
      text: config.name,
      textStyle: {
        fontSize: 12,
        color: '#000'
      },
      //  top: '0%',
      left: '5px',
    },
    // tooltip: {
    //   trigger: 'axis',
    //   axisPointer: {
    //     type: 'cross'
    //   }
    // },
    // legend: {
    //   data: ['当前电位'],
    //   show: true,
    //   textStyle: {
    //     color: '#000000'
    //   },
    //   left: 'right'
    // },
    xAxis: {
      show: false,
      data: setXAxis(config.data.length),
      boundaryGap: false,
      axisLabel: {
        textStyle: {
          color: '#ccc'
        },
        show: false,
      },
      // axisTick: {
      //   alignWithLabel: true // 使刻度线与标签对齐
      // },
      splitLine: {
        lineStyle: {
          color: ['#8DB6DB']
        }
      }
    },
    yAxis: {

      ...setY(config.data),
      type: 'value',
      // 不显示小数
      minInterval: 1,
      axisLabel: {
        textStyle: {
          color: '#70DEFF',
        },
        show: false
      }
    },
    series: [{
      markLine: {
        animation: false,
        symbol: 'none',
        silent: true,
        lineStyle: {
          type: 'solid',
          color: '#FF3333',
          width: 0.7,
          opacity: 0.5
        },
        label: {
          show: false,
          position: 'start',
          color: '#FF3333'
        },
        data: setMarkLineData(config.data.length, 35)
      },
      itemStyle: {
        normal: {
          lineStyle: {
            color: '#000',
            opacity: 1,
            width: 1
          }
        },
        emphasis: {
          scale: false,
          lineStyle: {
            width: 3
          }
        }
      },
      symbol: 'none',
      name: config.name,
      type: 'line',
      data: config.data,
      smooth: 0.8
    }]
  }
}

export function setXAxis(length) {
  // console.log('接受的数值', length);

  // 如果数据长度小于等于1，则直接返回空数组或处理特殊情况
  if (length <= 1) return [];

  const totalDurationMs = 5000; // 总时长为10秒
  const interval = totalDurationMs / (length - 1); // 每个时间点之间的间隔

  const time = [];
  const now = new Date(); // 当前时间作为起始点

  for (let i = 0; i < length; i++) {
    // 计算相对于当前时间的毫秒偏移量
    const offset = Math.floor(i * interval);
    // 创建新的Date对象表示该时间点，并格式化输出
    const timePoint = new Date(now.valueOf() - offset).toISOString().substr(11, 8); // 只取"HH:mm:ss"
    time.push(timePoint);
  }

  // 反转数组以确保时间顺序是从最早到最晚
  return time.reverse();
}
export const ecgData = [
  -0.008187430245535714,
  -0.009999956403459822,
  -0.011044093540736608,
  -0.011706760951450892,
  -0.012234279087611608,
  -0.012782505580357142,
  -0.01334381103515625,
  -0.013914925711495536,
  -0.014384678431919642,
  -0.014682224818638392,
  -0.014871869768415178,
  -0.01488494873046875,
  -0.014681134905133928,
  -0.014337812151227678,
  -0.013906206403459822,
  -0.013417925153459822,
  -0.012787955147879464,
  -0.011852809361049108,
  -0.010617937360491072,
  -0.009084156581333705,
  -0.006934029715401786,
  -0.003965105329241071,
  -0.00026266915457589287,
  0.004225594656808036,
  0.009535653250558036,
  0.015474591936383928,
  0.02202251979282924,
  0.029175894601004466,
  0.036816188267299106,
  0.044769287109375,
  0.052703857421875,
  0.06041608537946429,
  0.06798444475446429,
  0.07536097935267858,
  0.08239310128348214,
  0.089111328125,
  0.09563337053571429,
  0.10178920200892858,
  0.10746547154017858,
  0.11268833705357142,
  0.11737932477678571,
  0.12148611886160714,
  0.12511335100446427,
  0.12815638950892858,
  0.13074602399553573,
  0.13282993861607142,
  0.13429478236607142,
  0.13490513392857142,
  0.13455636160714285,
  0.13296072823660715,
  0.13010079520089285,
  0.12598528180803573,
  0.12068394252232142,
  0.11411830357142858,
  0.10637555803571429,
  0.09738595145089286,
  0.087158203125,
  0.07582746233258929,
  0.06371852329799108,
  0.05142974853515625,
  0.03966631208147321,
  0.029100145612444197,
  0.020247595650809153,
  0.013240814208984375,
  0.008039695875985282,
  0.004416687147957938,
  0.001902529171534947,
  0.00009272779737200056,
  -0.0012702090399605887,
  -0.002350585801260812,
  -0.003144315310886928,
  -0.0035407202584402902,
  -0.003505979265485491,
  -0.0031758717128208707,
  -0.002765655517578125,
  -0.002517972673688616,
  -0.002586637224469866,
  -0.0028558458600725445,
  -0.003253936767578125,
  -0.003699438912527902,
  -0.004196030752999442,
  -0.0047250475202287945,
  -0.005167279924665179,
  -0.005447932652064732,
  -0.005519866943359375,
  -0.005458831787109375,
  -0.005526406424386161,
  -0.00567626953125,
  -0.005771092006138393,
  -0.005724770682198661,
  -0.0054473876953125,
  -0.0050443921770368305,
  -0.004560879298618862,
  -0.004027230398995536,
  -0.0034625189644949777,
  -0.0028777803693498883,
  -0.0023875917707170758,
  -0.0020984922136579242,
  -0.0020221982683454242,
  -0.0021885463169642855,
  -0.0024014881678989957,
  -0.002536773681640625,
  -0.0024092538016183035,
  -0.002074573721204485,
  -0.0016084994588579451,
  -0.0010545509202139719,
  -0.0005446076393127441,
  -0.0001767277717590332,
  0.00010120017187935966,
  0.0000016093254089355469,
  -0.0004840237753731864,
  -0.001215219497680664,
  -0.0019999572208949496,
  -0.0026123523712158203,
  -0.0031077521187918527,
  -0.0036358152117047992,
  -0.004077366420200893,
  -0.0042514801025390625,
  -0.0041484832763671875,
  -0.0038691929408482145,
  -0.0033703616687229703,
  -0.002412055219922747,
  -0.0007346783365522112,
  0.0019339748791285924,
  0.005660934107644218,
  0.01037916966847011,
  0.01604862724031721,
  0.022429330008370534,
  0.02926145281110491,
  0.03627232142857143,
  0.04296875,
  0.048930576869419644,
  0.05400303431919643,
  0.05797031947544643,
  0.06059047154017857,
  0.06171962193080357,
  0.061370849609375,
  0.05965314592633929,
  0.056636265345982144,
  0.0523681640625,
  0.046986171177455356,
  0.04079328264508929,
  0.03418840680803571,
  0.02730832781110491,
  0.02036592790058681,
  0.013923176697322301,
  0.008327560765402657,
  0.003700877938951765,
  0.0002910835402352469,
  -0.0020266175270080566,
  -0.003425521509987967,
  -0.0041364942278180805,
  -0.004519871303013393,
  -0.004802158900669643,
  -0.004914419991629464,
  -0.004985264369419643,
  -0.005137307303292411,
  -0.00555419921875,
  -0.006567818777901786,
  -0.008641924176897322,
  -0.011648995535714286,
  -0.014561244419642858,
  -0.015699659075055803,
  -0.012464795793805803,
  -0.0065932339687145725,
  -0.004477775273905558,
  0.021795615729047493,
  0.0671505814796948,
  0.1267066618377137,
  0.18865217548610527,
  0.24802373090323396,
  0.2984370592976713,
  0.334273022632917,
  0.35042423414813684,
  0.34759001327671907,
  0.35263303134811363,
  0.3269324856110173,
  0.2786780608729846,
  0.2180533704161797,
  0.15571145735022804,
  0.10176461532629479,
  0.06225220728942137,
  0.03804067306004365,
  0.024409906101037222,
  0.013303484235491072,
  0.0030048915318080355,
  -0.003642490931919643,
  -0.008075169154575892,
  -0.011104038783482142,
  -0.013239724295479911,
  -0.014704023088727678,
  -0.01552581787109375,
  -0.015941074916294644,
  -0.016205923897879466,
  -0.016373770577566966,
  -0.016480582101004466,
  -0.01654815673828125,
  -0.016589573451450894,
  -0.016617911202566966,
  -0.016635349818638394,
  -0.016539437430245534,
  -0.016265869140625,
  -0.015772138323102678,
  -0.014925275530133928,
  -0.013747079031808036,
  -0.012356894356863839,
  -0.010619027273995536,
  -0.00844573974609375,
  -0.005782536097935268,
  -0.002486637660435268,
  0.001422882080078125,
  0.006043025425502232,
  0.01143646240234375,
  0.01742608206612723,
  0.02400915963309152,
  0.03118133544921875,
  0.038726806640625,
  0.04640851702008929,
  0.05395725795200893,
  0.061314174107142856,
  0.06855119977678571,
  0.07560511997767858,
  0.08268519810267858,
  0.08961704799107142,
  0.09650530133928571,
  0.10321044921875,
  0.10984584263392858,
  0.11641148158482142,
  0.12253243582589286,
  0.12751116071428573,
  0.13157435825892858,
  0.13480050223214285,
  0.13722446986607142,
  0.138671875,
  0.13875906808035715,
  0.13764299665178573,
  0.13563755580357142,
  0.13255964006696427,
  0.12825230189732142,
  0.12284633091517858,
  0.11620221819196429,
  0.10835484095982142,
  0.09933907645089286,
  0.08898489815848214,
  0.07751028878348214,
  0.06512233189174108,
  0.05254255022321429,
  0.04036440168108259,
  0.02920191628592355,
  0.019293512616838728,
  0.010981287275041853,
  0.004602023533412388,
  0.0002925055367606027,
  -0.0025543485369001117,
  -0.004356520516531808,
  -0.00550079345703125,
  -0.006227765764508929,
  -0.006689344133649554,
  -0.007089342389787946,
  -0.007556915283203125,
  -0.008066994803292411,
  -0.008497510637555803,
  -0.008770533970424108,
  -0.008730207170758928,
  -0.008384159633091517,
  -0.007950919015066964,
  -0.007462092808314732,
  -0.006938389369419643,
  -0.006605965750558036,
  -0.006608145577566964,
  -0.006929670061383929,
  -0.007454463413783482,
  -0.007894243512834822,
  -0.008173806326729911,
  -0.008457728794642858,
  -0.008744376046316964,
  -0.008820669991629464,
  -0.008656093052455358,
  -0.008444649832589286,
  -0.008417401994977678,
  -0.008612496512276786,
  -0.008736746651785714,
  -0.008602687290736608,
  -0.008410862513950892,
  -0.008288792201450892,
  -0.008211408342633928,
  -0.008162362234933036,
  -0.008131844656808036,
  -0.008219037737165178,
  -0.008487156459263392,
  -0.008763994489397322,
  -0.008939470563616072,
  -0.008936200823102678,
  -0.008717673165457589,
  -0.00836181640625,
  -0.007737840924944196,
  -0.006967272077287946,
  -0.0061179569789341515,
  -0.0051201411655970985,
  -0.0041670118059430805,
  -0.00337982177734375,
  -0.0026988983154296875,
  -0.002266202654157366,
  -0.001968111310686384,
  -0.0018471309116908482,
  -0.002044405255998884,
  -0.002205167497907366,
  -0.0019858224051339285,
  -0.0012046269008091518,
  0.00025422232491629463,
  0.002464021955217634,
  0.005578722272600446,
  0.009695870535714286,
  0.014769417898995536,
  0.020663670131138394,
  0.02707672119140625,
  0.03360748291015625,
  0.04000200544084821,
  0.045878819056919644,
  0.05089024135044643,
  0.054927280970982144,
  0.05781337193080357,
  0.05943516322544643,
  0.05982317243303571,
  0.05889020647321429,
  0.056697300502232144,
  0.05332728794642857,
  0.04879542759486607,
  0.043391636439732144,
  0.03708648681640625,
  0.030276707240513394,
  0.023478916713169644,
  0.01722022465297154,
  0.012003898620605469,
  0.007967948913574219,
  0.0048138754708426336,
  0.0025688750403267996,
  0.0010477645056588309,
  0.0000818286623273577,
  -0.0006390128816877093,
  -0.0013106720788138254,
  -0.0020578077861240934,
  -0.0030666589736938477,
  -0.004562241690499442,
  -0.0070105961390904015,
  -0.01081085205078125,
  -0.015894481113978794,
  -0.021795000348772322,
  -0.02757317679268973,
  -0.031726292201450894,
  -0.03175136021205357,
  -0.024876185825892856,
  -0.024618987188055066,
  -0.00596717675335777,
  0.03151118260656645,
  0.08523690615208004,
  0.14851851596275767,
  0.21169450103654083,
  0.2679650548579329,
  0.3126516823630345,
  0.34211471505554125,
  0.3475763530711126,
  0.35324666069262944,
  0.3470661592536481,
  0.30890053633027265,
  0.2511307752081545,
  0.18648972409379996,
  0.1271428457354204,
  0.08020207892643566,
  0.048106693205525256,
  0.028450922870879247,
  0.01647590203447476,
  0.0047877175467354914,
  -0.003859656197684152,
  -0.009566443307059152,
  -0.013404028756277902,
  -0.015947614397321428,
  -0.0173492431640625,
  -0.017810276576450894,
  -0.017569405691964284,
  -0.016774858747209822,
  -0.015736171177455356,
  -0.0146484375,
  -0.013636997767857142,
  -0.012995038713727678,
  -0.0128021240234375,
  -0.012999398367745536,
  -0.013658796037946428,
  -0.014612470354352678,
  -0.015432085309709822,
  -0.015738351004464284,
  -0.015291486467633928,
  -0.01415252685546875,
  -0.012574332101004464,
  -0.010494777134486608,
  -0.007724217006138393,
  -0.004512786865234375,
  -0.0007013593401227679,
  0.003814152308872768,
  0.008989061628069197,
  0.015010833740234375,
  0.02198845999581473,
  0.029735565185546875,
  0.03829084123883929,
  0.04725428989955357,
  0.05625697544642857,
  0.06507655552455358,
  0.07356480189732142,
  0.08162580217633929,
  0.08920724051339286,
  0.09637451171875,
  0.10316685267857142,
  0.10940115792410714,
  0.11496407645089286,
  0.11989920479910714,
  0.12429373604910714,
  0.12813895089285715,
  0.13127790178571427,
  0.13377162388392858,
  0.1356201171875,
  0.13691057477678573,
  0.13762555803571427,
  0.13746861049107142,
  0.13621303013392858,
  0.13377162388392858,
  0.13002232142857142,
  0.12504359654017858,
  0.11888776506696429,
  0.11155482700892858,
  0.10305350167410714,
  0.09349278041294642,
  0.08303397042410714,
  0.07179914202008929,
  0.0598907470703125,
  0.04782758440290179,
  0.036029270717075894,
  0.025320461818150113,
  0.016259193420410156,
  0.008995192391531808,
  0.0035123825073242188,
  -0.000019209725516183035,
  -0.001941272190638951,
  -0.0027791431971958707,
  -0.003204618181501116,
  -0.003474644252232143,
  -0.003646033150809152,
  -0.003861291067940848,
  -0.004318782261439732,
  -0.004930768694196429,
  -0.0054269518171037945,
  -0.005848475864955357,
  -0.006329672677176339,
  -0.006741659981863839,
  -0.00689697265625,
  -0.006796700613839286,
  -0.006632123674665179,
  -0.006532396589006696,
  -0.006368364606584821,
  -0.006162915910993304,
  -0.006144387381417411,
  -0.006244659423828125,
  -0.006299155099051339,
  -0.006333487374441964,
  -0.006355830601283482,
  -0.006369454520089286,
  -0.006378173828125,
  -0.006383623395647321,
  -0.006386893136160714,
  -0.006389072963169643,
  -0.006390707833426339,
  -0.006391252790178571,
  -0.006498609270368304,
  -0.006672995431082589,
  -0.006677355085100446,
  -0.006573268345424107,
  -0.006399972098214286,
  -0.0060749053955078125,
  -0.005761282784598214,
  -0.00556182861328125,
  -0.005435398646763393,
  -0.005462101527622768,
  -0.005585806710379464,
  -0.005659375871930804,
  -0.0056122371128627235,
  -0.0054116930280412945,
  -0.005040305001395089,
  -0.004461560930524554,
  -0.003750664847237723,
  -0.003062656947544643,
  -0.0026081630161830355,
  -0.002498354230608259,
  -0.0025768280029296875,
  -0.0026343209402901785,
  -0.0025634765625,
  -0.002196993146623884,
  -0.0014294215611049107,
  -0.00008610316685267858,
  0.0019430433000837053,
  0.004729679652622768,
  0.008422306605747767,
  0.013013567243303572,
  0.018389020647321428,
  0.024366106305803572,
  0.030618940080915178,
  0.036834716796875,
  0.042704990931919644,
  0.04803684779575893,
  0.05259922572544643,
  0.05613490513392857,
  0.058598109654017856,
  0.059840611049107144,
  0.05988420758928571,
  0.05873325892857143,
  0.056187220982142856,
  0.05234636579241071,
  0.04746355329241071,
  0.04153224400111607,
  0.03507341657366071,
  0.02827399117606027,
  0.02158355712890625,
  0.015493120465959822,
  0.010189737592424666,
  0.005715915134974888,
  0.0021524429321289062,
  -0.0007521765572684151,
  -0.0028110231672014508,
  -0.004118374415806362,
  -0.004948343549455915,
  -0.0055822644914899555,
  -0.006197793143136161,
  -0.006695338657924107,
  -0.00711822509765625,
  -0.007920946393694197,
  -0.009605952671595983,
  -0.012385777064732142,
  -0.015791211809430803,
  -0.018527439662388394,
  -0.01879119873046875,
  -0.014559064592633928,
  -0.009791108271808239,
  -0.002901729809583288,
  0.02390621935603964,
  0.06944515588943972,
  0.1269229046464989,
  0.1894260770493885,
  0.24891644360333454,
  0.2997255396557802,
  0.3365783747339212,
  0.3530656227834559,
  0.35120468462879334,
  0.35729026619617954,
  0.33100784240076314,
  0.27948088877293265,
  0.21541460922653474,
  0.15161215723438898,
  0.09870943278182077,
  0.060626911009189,
  0.036188360876123614,
  0.023015777198638912,
  0.012471335274832589,
  0.002574920654296875,
  -0.0036027090890066965,
  -0.007419586181640625,
  -0.009843008858816964,
  -0.011275155203683036,
  -0.011971609933035714,
  -0.012200491768973214,
  -0.012132917131696428,
  -0.011983598981584822,
  -0.011887686593191964,
  -0.011827741350446428,
  -0.011682782854352678,
  -0.011377607073102678,
  -0.011077880859375,
  -0.01088714599609375,
  -0.01076507568359375,
  -0.01068878173828125,
  -0.010532924107142858,
  -0.010328020368303572,
  -0.010090419224330358,
  -0.009617941720145089,
  -0.008676256452287947,
  -0.007116590227399554,
  -0.004843030657087054,
  -0.0017956324986049107,
  0.0020648411342075895,
  0.006867000034877232,
  0.012694222586495536,
  0.019280569893973216,
  0.026347569056919644,
  0.03372410365513393,
  0.04129246303013393,
  0.04909406389508929,
  0.05693272181919643,
  0.06469290597098214,
  0.07250540597098214,
  0.08035714285714286,
  0.0880126953125,
  0.09523228236607142,
  0.10200718470982142,
  0.10802350725446429,
  0.11333356584821429,
  0.11793736049107142,
  0.12204415457589286,
  0.125732421875,
  0.12896728515625,
  0.13149588448660715,
  0.13345772879464285,
  0.1346435546875,
  0.13495744977678573,
  0.13412039620535715,
  0.13213239397321427,
  0.12894984654017858,
  0.12440708705357142,
  0.11864362444196429,
  0.11188616071428571,
  0.10417829241071429,
  0.09554617745535714,
  0.08588082449776786,
  0.07529122488839286,
  0.06401715959821429,
  0.05214800153459821,
  0.04038075038364956,
  0.029256480080740794,
  0.019332000187465122,
  0.011035033634730749,
  0.004578930991036552,
  -0.0000679152352469308,
  -0.002982888902936663,
  -0.004743644169398716,
  -0.0057119641985212055,
  -0.006219591413225446,
  -0.006326947893415179,
  -0.006287711007254464,
  -0.006156376429966518,
  -0.0059661865234375,
  -0.005952562604631696,
  -0.006050654820033482,
  -0.006220136369977679,
  -0.006435394287109375,
  -0.006464276994977679,
  -0.006375449044363839,
  -0.006104605538504464,
  -0.0055048806326729914,
  -0.004909515380859375,
  -0.004531315394810268,
  -0.004398345947265625,
  -0.004529135567801339,
  -0.004826136997767857,
  -0.005335671561104911,
  -0.0059806278773716515,
  -0.006497519356863839,
  -0.006826128278459821,
  -0.007034846714564732,
  -0.007167271205357143,
  -0.007144383021763393,
  -0.006916591099330357,
  -0.006558009556361607,
  -0.006115504673549107,
  -0.005726950509207589,
  -0.005480085100446429,
  -0.005323682512555804,
  -0.005224500383649554,
  -0.005161285400390625,
  -0.005228315080915179,
  -0.00559234619140625,
  -0.006143842424665179,
  -0.006601061139787946,
  -0.006890978131975446,
  -0.007007053920200893,
  -0.006841387067522321,
  -0.006591251918247768,
  -0.006207057407924107,
  -0.005631583077566964,
  -0.005040849958147321,
  -0.004547119140625,
  -0.004183088030133929,
  -0.004073006766183036,
  -0.004029410226004464,
  -0.004002162388392857,
  -0.003984723772321429,
  -0.0038661956787109375,
  -0.003362757819039481,
  -0.002294097627912249,
  -0.0005458763667515346,
  0.0019543852124895367,
  0.005254098347255162,
  0.009486232485089983,
  0.014630896704537528,
  0.020463126046316966,
  0.026734488351004466,
  0.03317478724888393,
  0.03950718470982143,
  0.04545375279017857,
  0.05061994280133929,
  0.054652622767857144,
  0.05742536272321429,
  0.05896868024553571,
  0.0592041015625,
  0.058070591517857144,
  0.055598667689732144,
  0.05198451450892857,
  0.04728480747767857,
  0.04163469587053571,
  0.03536442347935268,
  0.028803144182477678,
  0.022383008684430803,
  0.01651709420340402,
  0.011298588344029017,
  0.006954193115234375,
  0.003537041800362723,
  0.0008313315255301339,
  -0.0012084415980747768,
  -0.0027185167585100445,
  -0.0038923536028180805,
  -0.0047452109200613836,
  -0.0051795414515904015,
  -0.005347660609654018,
  -0.005560738699776786,
  -0.006123679024832589,
  -0.007442474365234375,
  -0.009900229317801339,
  -0.013393947056361608,
  -0.017221178327287947,
  -0.020029340471540178,
  -0.01947920663016183,
  -0.01273482186453683,
  -0.013209882423168742,
  0.003020806986761968,
  0.040581286886923834,
  0.09348946806477547,
  0.1557544877148577,
  0.21878856850509518,
  0.2749702519591587,
  0.3193430391246436,
  0.34697457592499914,
  0.3481642123305222,
  0.3543986524106877,
  0.3430682887182142,
  0.3035758817649729,
  0.24556119719073646,
  0.18041326093634247,
  0.12076808153976687,
  0.07449237521540993,
  0.04380561542152442,
  0.026540132260146947,
  0.017645563398088728,
  0.00599111829485212,
  -0.0011946814400809152,
  -0.005652427673339844,
  -0.00848184313092913,
  -0.010279519217354911,
  -0.01152801513671875,
  -0.012534005301339286,
  -0.013278416224888392,
  -0.013752528599330358,
  -0.014052254813058036,
  -0.014242989676339286,
  -0.014363970075334822,
  -0.014333452497209822,
  -0.014208112444196428,
  -0.014235360281808036,
  -0.0143585205078125,
  -0.014436994280133928,
  -0.014487130301339286,
  -0.01441192626953125,
  -0.014044625418526786,
  -0.013169424874441964,
  -0.011545453752790178,
  -0.00933837890625,
  -0.006761278424944196,
  -0.003628322056361607,
  0.00017874581473214285,
  0.004628862653459821,
  0.009699140276227678,
  0.015269688197544642,
  0.021373203822544644,
  0.028242383684430803,
  0.03581346784319196,
  0.04382978166852679,
  0.0521240234375,
  0.06049455915178571,
  0.06880405970982142,
  0.07696533203125,
  0.08482578822544642,
  0.09231131417410714,
  0.09932163783482142,
  0.10587855747767858,
  0.11222621372767858,
  0.1177978515625,
  0.12257603236607142,
  0.12676130022321427,
  0.13022286551339285,
  0.13303048270089285,
  0.135009765625,
  0.13588169642857142,
  0.13633510044642858,
  0.13619559151785715,
  0.13492257254464285,
  0.13242013113839285,
  0.12870570591517858,
  0.12404087611607142,
  0.1185302734375,
  0.11187744140625,
  0.10384695870535714,
  0.09451729910714286,
  0.0841064453125,
  0.07292393275669642,
  0.061283656529017856,
  0.049530029296875,
  0.03817204066685268,
  0.027897426060267856,
  0.019274984087262834,
  0.012448992047991072,
  0.007391112191336495,
  0.0038518905639648438,
  0.0015132086617606027,
  0.00010251998901367188,
  -0.000614098140171596,
  -0.000942434583391462,
  -0.0011055128914969309,
  -0.0013683182852608816,
  -0.0017100061689104354,
  -0.0020846639360700336,
  -0.0025736945016043527,
  -0.0030055727277483258,
  -0.0032629285539899555,
  -0.0032074792044503348,
  -0.0027478081839425223,
  -0.0022297586713518414,
  -0.0017943722861153738,
  -0.0013046605246407644,
  -0.0008870192936488561,
  -0.0006217615944998604,
  -0.0005607264382498604,
  -0.0007367474692208427,
  -0.0009558882032121931,
  -0.001095090593610491,
  -0.0012899807521275111,
  -0.0016269683837890625,
  -0.0020540782383510043,
  -0.0024318695068359375,
  -0.0026261465890066965,
  -0.0027299608503069195,
  -0.0027279172624860492,
  -0.0025821413312639508,
  -0.0022078241620744976,
  -0.0017075538635253906,
  -0.0012344632829938615,
  -0.000930922372000558,
  -0.0008155277797154018,
  -0.0009745189121791295,
  -0.001171248299734933,
  -0.0013160024370465959,
  -0.0014086450849260604,
  -0.0015741075788225447,
  -0.001892362322126116,
  -0.0022012165614536832,
  -0.0023974009922572543,
  -0.0025219236101422992,
  -0.002601078578404018,
  -0.002971921648297991,
  -0.0040629250662667414,
  -0.006038665771484375,
  -0.008788245064871652,
  -0.011816297258649553,
  -0.01480865478515625,
  -0.017669950212751116,
  -0.019913809640066966,
  -0.020911080496651784,
  -0.020368303571428572,
  -0.018314906529017856,
  -0.015087127685546875,
  -0.011005946568080358,
  -0.006063188825334821,
  -0.00025177001953125,
  0.00632476806640625,
  0.013601030622209822,
  0.021428789411272322,
  0.029496874128069197,
  0.03740038190569196,
  0.04455784388950893,
  0.050602504185267856,
  0.05540248325892857,
  0.05866350446428571,
  0.060093470982142856,
  0.059504917689732144,
  0.05699375697544643,
  0.05304827008928571,
  0.0479736328125,
  0.041865757533482144,
  0.03510175432477679,
  0.028026580810546875,
  0.021077973502022878,
  0.014633587428501673,
  0.00872244153703962,
  0.0035791397094726562,
  -0.0005407333374023438,
  -0.0035843167986188617,
  -0.005410466875348773,
  -0.006036485944475446,
  -0.005685533796037946,
  -0.004606655665806362,
  -0.0033130645751953125,
  -0.0021842888423374723,
  -0.001531430653163365,
  -0.0016818387167794363,
  -0.003041233335222517,
  -0.005667107445853097,
  -0.009451695850917272,
  -0.013704402106148856,
  -0.01720700945172991,
  -0.018164498465401784,
  -0.014215741838727678,
  -0.008839171181581406,
  -0.0026371445017737555,
  0.02447084709805607,
  0.06957819919169672,
  0.13020690856382455,
  0.19498424622591162,
  0.2572467010668681,
  0.3066042435528168,
  0.34203314764778164,
  0.35477685303274614,
  0.3533229152639725,
  0.35584852796073413,
  0.3277590348481112,
  0.27710802495800385,
  0.21426294251133216,
  0.15073845518365614,
  0.09736522901155703,
  0.059688182658003894,
  0.03668641418831365,
  0.023795279985384,
  0.012740816388811384,
  0.003387178693498884,
  -0.002446038382393973,
  -0.0061506543840680805,
  -0.008396966116768973,
  -0.009502955845424108,
  -0.009992327008928572,
  -0.010409763881138392,
  -0.010888235909598214,
  -0.011404854910714286,
  -0.011839730398995536,
  -0.012115478515625,
  -0.01229095458984375,
  -0.012402125767299108,
  -0.012366158621651786,
  -0.012129647391183036,
  -0.011873517717633928,
  -0.01181793212890625,
  -0.011995588030133928,
  -0.01221466064453125,
  -0.012140546526227678,
  -0.01166534423828125,
  -0.010721479143415178,
  -0.009052821568080358,
  -0.006496429443359375,
  -0.003055572509765625,
  0.0011591230119977678,
  0.006081172398158482,
  0.011559077671595983,
  0.01739011492047991,
  0.02365929739815848,
  0.03041839599609375,
  0.03759765625,
  0.0451507568359375,
  0.052937098911830356,
  0.060878208705357144,
  0.06891305106026786,
  0.07721383231026786,
  0.08530535016741071,
  0.09302629743303571,
  0.10035923549107142,
  0.10735212053571429,
  0.11380440848214286,
  0.11993408203125,
  0.12501743861607142,
  0.12924630301339285,
  0.13282121930803573,
  0.13570731026785715,
  0.13767787388392858,
  0.13886369977678573,
  0.13898577008928573,
  0.13821847098214285,
  0.13649204799107142,
  0.13364955357142858,
  0.12967354910714285,
  0.12458147321428571,
  0.11819022042410714,
  0.11043003627232142,
  0.10139683314732142,
  0.09113420758928571,
  0.07976858956473214,
  0.06759207589285714,
  0.05512346540178571,
  0.04315185546875,
  0.032269069126674106,
  0.022795540945870534,
  0.015068190438406808,
  0.009197984422956194,
  0.005042144230433873,
  0.0022955621991838726,
  0.0005517005920410156,
  -0.0005559240068708147,
  -0.0012594631740025111,
  -0.0017061914716448104,
  -0.0019899095807756695,
  -0.0023138863699776785,
  -0.0027798243931361605,
  -0.0032490321568080355,
  -0.0035877227783203125,
  -0.0037359510149274555,
  -0.0036558423723493305,
  -0.0035381317138671875,
  -0.003360203334263393,
  -0.0031343187604631695,
  -0.003071103777204241,
  -0.0031375885009765625,
  -0.003287451607840402,
  -0.003489903041294643,
  -0.0035111563546316965,
  -0.0034172875540597098,
  -0.0032510757446289062,
  -0.0029325485229492188,
  -0.0026235580444335938,
  -0.0024271011352539062,
  -0.0023696081978934152,
  -0.0026396342686244418,
  -0.0030463082449776785,
  -0.0033702850341796875,
  -0.003535406930106027,
  -0.0034923553466796875,
  -0.0032095227922712055,
  -0.0029221943446568082,
  -0.0026073455810546875,
  -0.002131598336356027,
  -0.0016155924115862166,
  -0.0012879371643066406,
  -0.0011872564043317521,
  -0.0013382094247000559,
  -0.0016481535775320871,
  -0.0020583697727748324,
  -0.002639293670654297,
  -0.0032223292759486605,
  -0.0035927636282784598,
  -0.0037204197474888395,
  -0.0036941255841936383,
  -0.0035706928798130582,
  -0.0032788685389927457,
  -0.0028805051531110492,
  -0.0026273727416992188,
  -0.0026796885899135043,
  -0.0030336380004882812,
  -0.003472191946847098,
  -0.003643580845424107,
  -0.0033239637102399555,
  -0.002371924264090402,
  -0.0006986345563616071,
  0.0018604823521205357,
  0.005410875592912946,
  0.009910038539341517,
  0.015224456787109375,
  0.02116666521344866,
  0.027505057198660716,
  0.03409576416015625,
  0.04073878696986607,
  0.047092982700892856,
  0.052734375,
  0.057281494140625,
  0.06048583984375,
  0.06230817522321429,
  0.06271798270089286,
  0.06169782366071429,
  0.05933925083705357,
  0.05570329938616071,
  0.05082484654017857,
  0.04484340122767857,
  0.038051060267857144,
  0.030957903180803572,
  0.023885999407087053,
  0.017151491982596263,
  0.01126868384225028,
  0.006466797419956752,
  0.0027749879019601004,
  0.00021641595023018972,
  -0.0014089175633021764,
  -0.0024407931736537387,
  -0.0032027108328683035,
  -0.0038997105189732145,
  -0.0044492994035993305,
  -0.004798344203404018,
  -0.005197252546037946,
  -0.0059032440185546875,
  -0.007288251604352679,
  -0.009428841727120536,
  -0.0126190185546875,
  -0.015888759068080356,
  -0.01783806937081473,
  -0.016420909336635044,
  -0.009276526314871652,
  -0.00898508818162066,
  0.008151792387028407,
  0.04423293326151538,
  0.0983718068857353,
  0.16087413255180755,
  0.22412989619890783,
  0.28049831328098274,
  0.3242313545454234,
  0.350411371879066,
  0.3491874320555152,
  0.3566281630653956,
  0.3421269956041068,
  0.30015992227419724,
  0.24071694991468756,
  0.17621421218224428,
  0.11756649980649721,
  0.07203207284364885,
  0.04183880231348032,
  0.024914692380526154,
  0.015940257481166294,
  0.0044612884521484375,
  -0.002719061715262277,
  -0.0073871612548828125,
  -0.010564259120396205,
  -0.012793949672154017,
  -0.014317103794642858,
  -0.015283857073102678,
  -0.015898568289620534,
  -0.01618194580078125,
  -0.016254970005580356,
  -0.016300746372767856,
  -0.016224452427455356,
  -0.016069684709821428,
  -0.015864780970982144,
  -0.015520368303571428,
  -0.015195574079241072,
  -0.014775957380022322,
  -0.0140838623046875,
  -0.013324192592075892,
  -0.01251983642578125,
  -0.0115814208984375,
  -0.010343824114118303,
  -0.008488791329520089,
  -0.005920955113002232,
  -0.002792903355189732,
  0.000904083251953125,
  0.005176544189453125,
  0.009920937674386161,
  0.015179225376674108,
  0.020977565220424106,
  0.027119227818080356,
  0.03358350481305804,
  0.04057529994419643,
  0.04811750139508929,
  0.05611310686383929,
  0.06420026506696429,
  0.072021484375,
  0.079620361328125,
  0.08694022042410714,
  0.09391566685267858,
  0.10024588448660714,
  0.10617501395089286,
  0.11149379185267858,
  0.11628941127232142,
  0.12082345145089286,
  0.12496512276785714,
  0.12838309151785715,
  0.13118198939732142,
  0.13282993861607142,
  0.13356236049107142,
  0.13330078125,
  0.13187081473214285,
  0.12952532087053573,
  0.12628173828125,
  0.12207903180803571,
  0.1170654296875,
  0.11098807198660714,
  0.10376848493303571,
  0.09509713309151786,
  0.08492606026785714,
  0.07347760881696429,
  0.06119428362165179,
  0.04869188581194196,
  0.036800929478236606,
  0.026103428431919644,
  0.01708909443446568,
  0.009940079280308314,
  0.004723208291190011,
  0.0010883467538016184,
  -0.0014331681387765066,
  -0.0031410626002720426,
  -0.004225526537214007,
  -0.0049141475132533485,
  -0.005458286830357143,
  -0.006123679024832589,
  -0.006759098597935268,
  -0.007162911551339286,
  -0.007419041224888393,
  -0.007581983293805804,
  -0.007685525076729911,
  -0.007750919886997768,
  -0.007579258510044643,
  -0.007150922502790179,
  -0.006665366036551339,
  -0.006356920514787946,
  -0.006374359130859375,
  -0.006598336356026786,
  -0.006740570068359375,
  -0.006724221365792411,
  -0.006606510707310268,
  -0.0063168661934988836,
  -0.0059190477643694195,
  -0.0054531097412109375,
  -0.0050509316580636164,
  -0.0047953469412667414,
  -0.0046329498291015625,
  -0.0046373094831194195,
  -0.004855019705636161,
  -0.005100795200892857,
  -0.00525665283203125,
  -0.0052490234375,
  -0.005137852260044643,
  -0.005067552839006696,
  -0.005022866385323661,
  -0.004993983677455357,
  -0.004868098667689732,
  -0.0045735495431082586,
  -0.004279000418526786,
  -0.004198346819196429,
  -0.004360198974609375,
  -0.004676273890904018,
  -0.005090441022600446,
  -0.005567823137555804,
  -0.0060858045305524555,
  -0.006628853934151786,
  -0.007080623081752232,
  -0.007260458809988839,
  -0.007161276681082589,
  -0.006884983607700893,
  -0.006602696010044643,
  -0.006423405238560268,
  -0.00620269775390625,
  -0.005741664341517857,
  -0.004914419991629464,
  -0.003640038626534598,
  -0.0017615727015904018,
  0.0009283338274274554,
  0.0046683720179966515
]


/**
 * 设置标记线数据
 * @param {number} length - 数据长度或最大值
 * @param {number} step - 步长
 * @param {string} orientation - 标记线方向：'x', 'y', 或 'both'
 */
export function setMarkLineData(length, step) {
  // console.log('markDatacanshu ', length, step);

  const markLineData = [];

  for (let i = 0; i <= length - 1; i += step) {
    markLineData.push({
      xAxis: i
    });
  }

  // 最后强制添加最后一个点的 markLine
  if ((length - 1) % step !== 0) {
    markLineData.push({
      xAxis: length - 1
    });
  }

  // console.log('markLineData', markLineData);
  return markLineData;
}
export function getEegMarkLineData(length, sampleRate = 250) {
  const eegMarkLineData = [];

  // 1. 计算网格大小（正方形边长）
  // 每0.5秒一个网格（250Hz采样率下125个点）
  const gridSizeSeconds = 0.5; // 每个网格代表0.5秒
  const pointsPerGrid = Math.round(gridSizeSeconds * sampleRate); // 每个网格的点数

  // 2. 添加垂直线（时间轴）
  for (let i = 0; i <= length; i += pointsPerGrid) {
    eegMarkLineData.push({
      xAxis: i
    });
  }

  // 确保最后一条线在数据末尾
  if (eegMarkLineData[eegMarkLineData.length - 1].xAxis < length) {
    eegMarkLineData.push({
      xAxis: length
    });
  }

  // 3. 添加水平线（电压轴）
  // 计算水平线数量（基于垂直网格线数量）
  const verticalGridCount = eegMarkLineData.filter(item => item.xAxis !== undefined).length;

  // 根据垂直网格数量确定水平线间距
  const voltageRange = 2; // 从 -1 到 1，总共2个单位
  const voltageStep = voltageRange / (verticalGridCount - 1);

  // 生成水平线
  for (let v = -1; v <= 1; v += voltageStep) {
    // 保留两位小数避免浮点精度问题
    const voltage = parseFloat(v.toFixed(2));
    eegMarkLineData.push({
      yAxis: voltage
    });
  }

  return eegMarkLineData;
}
// export const setY = (data) => {
//   if (!data || data.length === 0 || data.every(isNaN)) {
//     return {
//       min: 0,
//       max: 1,
//       interval: 0.2,
//     };
//   }

//   const dataMin = Math.min(...data);
//   const dataMax = Math.max(...data);

//   // 直接在最大值和最小值上各加/减 0.5
//   let extendedMin = Number((dataMin - 0.2).toFixed(2));
//   let extendedMax = Number((dataMax + 1).toFixed(2));

//   // 固定为 4 个间隔（即 5 条线）
//   const desiredTickCount = 5;
//   let interval = Number(((extendedMax - extendedMin) / desiredTickCount).toFixed(2));

//   // 对 interval 进行“美化”，使其是 0.1、0.2、0.25、0.5、1 等更易读的数字
//   const magnitude = Math.pow(10, Math.floor(Math.log10(interval)));
//   let normalizedInterval = Math.ceil(interval / magnitude * 2) / 2 * magnitude;
//   normalizedInterval = Number(normalizedInterval.toFixed(2));

//   // 再次调整 min/max，使其能被 interval 整除，方便坐标轴对齐
//   let adjustedMin = Math.floor(extendedMin / normalizedInterval) * normalizedInterval;
//   adjustedMin = Number(adjustedMin.toFixed(2));

//   let adjustedMax = adjustedMin + normalizedInterval * desiredTickCount;
//   adjustedMax = Number(adjustedMax.toFixed(2));

//   // console.log('本次最大值为', adjustedMax);
//   // console.log('本次最小值为', adjustedMin);
//   // console.log('本次间隔为', normalizedInterval);

//   return {
//     min: adjustedMin,
//     max: adjustedMax,
//     interval: normalizedInterval,
//   };
// };

export const setY = (data) => {
  if (!data || data.length === 0 || data.every(isNaN)) {
    return {
      min: -0.5,
      max: 0.5,
      interval: 0.2,
    };
  }

  const dataMin = Math.min(...data);
  const dataMax = Math.max(...data);

  // 计算中心点
  const center = (dataMin + dataMax) / 2;

  // 计算数据范围
  const range = dataMax - dataMin;

  // 设置一个 padding 比例，比如让上下各留出 20% 的空间
  const padding = range * 0.2;
  let extendedMin = Number((center - (range / 2 + padding)).toFixed(2));
  let extendedMax = Number((center + (range / 2 + padding)).toFixed(2));

  // 固定为 4 个间隔（即 5 条线）
  const desiredTickCount = 5;
  let interval = Number(((extendedMax - extendedMin) / desiredTickCount).toFixed(2));

  // 对 interval 进行“美化”，使其是 0.1、0.2、0.25、0.5、1 等更易读的数字
  const magnitude = Math.pow(10, Math.floor(Math.log10(interval)));
  let normalizedInterval = Math.ceil(interval / magnitude * 2) / 2 * magnitude;
  normalizedInterval = Number(normalizedInterval.toFixed(2));

  // 再次调整 min/max，使其能被 interval 整除，方便坐标轴对齐
  let adjustedMin = Math.floor(extendedMin / normalizedInterval) * normalizedInterval;
  adjustedMin = Number(adjustedMin.toFixed(2));

  let adjustedMax = adjustedMin + normalizedInterval * desiredTickCount;
  adjustedMax = Number(adjustedMax.toFixed(2));

  return {
    min: adjustedMin,
    max: adjustedMax,
    interval: normalizedInterval,
  };
};